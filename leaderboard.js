
window.onload = function constructTable() {

    var gameResult = [
        {
            "No": 1,
            "Game": "MI vs GL",
            "idUrl":"img/1.jpg",
            "nameUrl":"img/3.jpg",
            "First":"Bindu John",
            "Second": "Jomon",
            "Third": "Shanu"
        },
        {
            "No": 2,
            "Game": "CSK vs GL",
            "idUrl":"img/1.jpg",
            "nameUrl":"img/3.jpg",
            "First": "Bindu John",
            "Second": "Jomon",
            "Third": "Shanu"
        },
        {
            "No": 3,
            "Game": "MI vs CSK",
            "idUrl":"img/1.jpg",
            "nameUrl":"img/3.jpg",
            "First": "Bindu John",
            "Second": "Jomon",
            "Third": "Shanu"
        },
        {
            "No": 4,
            "Game": "RR vs KKR",
            "idUrl":"img/1.jpg",
            "nameUrl":"img/3.jpg",
            "First": "Bindu John",
            "Second": "Jomon",
            "Third": "Shanu"
        },
        {
            "No": 5,
            "Game": "MI vs KKR",
            "idUrl":"img/1.jpg",
            "nameUrl":"img/3.jpg",
            "First": "Bindu John",
            "Second": "Jomon",
            "Third": "Shanu"
        },
        {
            "No": 6,
            "Game": "MI vs RR",
            "idUrl":"img/1.jpg",
            "nameUrl":"img/3.jpg",
            "First": "Bindu John",
            "Second": "Jomon",
            "Third": "Shanu"
        },
        {
            "No": 7,
            "Game": "CSK vs RR",
            "idUrl":"img/2.jpg",
            "nameUrl":"img/3.jpg",
            "First": "Bindu John",
            "Second": "Jomon",
            "Third": "Shanu"
        },
        {
            "No": 8,
            "Game": "CSK vs KKR",
            "idUrl":"img/2.jpg",
            "nameUrl":"img/3.jpg",
            "First": "Bindu John",
            "Second": "Jomon",
            "Third": "Shanu"
        },
        {
            "No": 9,
            "Game": "KKR vs GL",
            "idUrl":"img/2.jpg",
            "nameUrl":"img/3.jpg",
            "First": "Bindu John",
            "Second": "Jomon",
            "Third": "Shanu"
        },
        {
            "No": 10,
            "Game": "RR vs GL",
            "idUrl":"img/2.jpg",
            "nameUrl":"img/4.jpg",
            "First": "Bindu John",
            "Second": "Jomon",
            "Third": "Shanu"
        },
        {
            "No": 11,
            "Game": "MI vs GL",
            "idUrl":"img/2.jpg",
            "nameUrl":"img/4.jpg",
            "First": "Bindu John",
            "Second": "Jomon",
            "Third": "Shanu"
        },
        {
            "No": 12,
            "Game": "MI vs GL",
            "idUrl":"img/2.jpg",
            "nameUrl":"img/4.jpg",
            "First": "Bindu John",
            "Second": "Jomon",
            "Third": "Shanu"
        },
        {
            "No": 1,
            "Game": "MI vs GL",
            "idUrl":"img/2.jpg",
            "nameUrl":"img/4.jpg",
            "First": "Bindu John",
            "Second": "Jomon",
            "Third": "Shanu"
        },
        {
            "No": 1,
            "Game": "MI vs GL",
            "idUrl":"img/2.jpg",
            "nameUrl":"img/4.jpg",
            "First": "Bindu John",
            "Second": "Jomon",
            "Third": "Shanu"
        },
        {
            "No": 1,
            "Game": "MI vs GL",
            "idUrl":"img/2.jpg",
            "nameUrl":"img/4.jpg",
            "First": "Bindu John",
            "Second": "Jomon",
            "Third": "Shanu"
        },
        {
            "No": 1,
            "Game": "MI vs GL",
            "idUrl":"img/2.jpg",
            "nameUrl":"img/4.jpg",
            "First": "Bindu John",
            "Second": "Jomon",
            "Third": "Shanu"
        },
        {
            "No": 1,
            "Game": "MI vs GL",
            "idUrl":"img/2.jpg",
            "nameUrl":"img/4.jpg",
            "First": "Bindu John",
            "Second": "Jomon",
            "Third": "Shanu"
        },
        {
            "No": 1,
            "Game": "MI vs GL",
            "idUrl":"img/2.jpg",
            "nameUrl":"img/4.jpg",
            "First": "Bindu John",
            "Second": "Jomon",
            "Third": "Shanu"
        },
        {
            "No": 1,
            "Game": "MI vs GL",
            "idUrl":"img/2.jpg",
            "nameUrl":"img/4.jpg",
            "First": "Bindu John",
            "Second": "Jomon",
            "Third": "Shanu"
        },
        {
            "No": 1,
            "Game": "MI vs GL",
            "idUrl":"img/2.jpg",
            "nameUrl":"img/4.jpg",
            "First": "Bindu John",
            "Second": "Jomon",
            "Third": "Shanu"
        },
        {
            "No": 1,
            "Game": "MI vs GL",
            "idUrl":"img/2.jpg",
            "nameUrl":"img/4.jpg",
            "First": "Bindu John",
            "Second": "Jomon",
            "Third": "Shanu"
        },
        {
            "No": 1,
            "Game": "MI vs GL",
            "idUrl":"img/2.jpg",
            "nameUrl":"img/4.jpg",
            "First": "Bindu John",
            "Second": "Jomon",
            "Third": "Shanu"
        },
        {
            "No": 1,
            "Game": "MI vs GL",
            "idUrl":"img/2.jpg",
            "nameUrl":"img/4.jpg",
            "First": "Bindu John",
            "Second": "Jomon",
            "Third": "Shanu"
        },
        {
            "No": 1,
            "Game": "MI vs GL",
            "idUrl":"img/2.jpg",
            "nameUrl":"img/4.jpg",
            "First": "Bindu John",
            "Second": "Jomon",
            "Third": "Shanu"
        },
        {
            "No": 1,
            "Game": "MI vs GL",
            "idUrl":"img/2.jpg",
            "nameUrl":"img/4.jpg",
            "First": "Bindu John",
            "Second": "Jomon",
            "Third": "Shanu"
        },
        {
            "No": 1,
            "Game": "MI vs GL",
            "idUrl":"img/2.jpg",
            "nameUrl":"img/4.jpg",
            "First": "Bindu John",
            "Second": "Jomon",
            "Third": "Shanu"
        },
        {
            "No": 1,
            "Game": "MI vs GL",
            "idUrl":"img/2.jpg",
            "nameUrl":"img/4.jpg",
            "First": "Bindu John",
            "Second": "Jomon",
            "Third": "Shanu"
        },
        {
            "No": 1,
            "Game": "MI vs GL",
            "idUrl":"img/2.jpg",
            "nameUrl":"img/4.jpg",
            "First": "Bindu John",
            "Second": "Jomon",
            "Third": "Shanu"
        },
        {
            "No": 1,
            "Game": "MI vs GL",
            "idUrl":"img/2.jpg",
            "nameUrl":"img/3.jpg",
            "First": "Bindu John",
            "Second": "Jomon",
            "Third": "Shanu"
        },
        
    ]

    var leaderboard = [
        {
            "Name": "Arun kumar",
            "Credits": "20",
            "Credits-week": "50"
        },
        {
            "Name": "Drisya",
            "Credits": "15",
            "Credits-week": "50"
        },
        {
            "Name": "Drisya",
            "Credits": "15",
            "Credits-week": "50"
        },
        {
            "Name": "Drisya",
            "Credits": "15",
            "Credits-week": "50"
        },
        {
            "Name": "Drisya",
            "Credits": "15",
            "Credits-week": "50"
        },
        {
            "Name": "Drisya",
            "Credits": "15",
            "Credits-week": "50"
        },
        {
            "Name": "Drisya",
            "Credits": "15",
            "Credits-week": "50"
        },
        {
            "Name": "Drisya",
            "Credits": "15",
            "Credits-week": "50"
        },
        {
            "Name": "Drisya",
            "Credits": "15",
            "Credits-week": "50"
        },
        {
            "Name": "Drisya",
            "Credits": "15",
            "Credits-week": "50"
        },
        {
            "Name": "Drisya",
            "Credits": "15",
            "Credits-week": "50"
        },
        {
            "Name": "Drisya",
            "Credits": "15",
            "Credits-week": "50"
        },
        {
            "Name": "Drisya",
            "Credits": "15",
            "Credits-week": "50"
        },
        {
            "Name": "Drisya",
            "Credits": "15",
            "Credits-week": "50"
        },
        {
            "Name": "Drisya",
            "Credits": "15",
            "Credits-week": "50"
        },
        {
            "Name": "Drisya",
            "Credits": "15",
            "Credits-week": "50"
        },
        {
            "Name": "Drisya",
            "Credits": "15",
            "Credits-week": "50"
        },
        {
            "Name": "Drisya",
            "Credits": "15",
            "Credits-week": "50"
        },
        {
            "Name": "Drisya",
            "Credits": "15",
            "Credits-week": "50"
        },
        {
            "Name": "Drisya",
            "Credits": "15",
            "Credits-week": "50"
        },
        {
            "Name": "Drisya",
            "Credits": "15",
            "Credits-week": "50"
        },
        {
            "Name": "Drisya",
            "Credits": "15",
            "Credits-week": "50"
        },
        {
            "Name": "Drisya",
            "Credits": "15",
            "Credits-week": "50"
        },
        {
            "Name": "Drisya",
            "Credits": "15",
            "Credits-week": "50"
        },
        {
            "Name": "Drisya",
            "Credits": "15",
            "Credits-week": "50"
        },
        {
            "Name": "Drisya",
            "Credits": "15",
            "Credits-week": "50"
        },
        {
            "Name": "Drisya",
            "Credits": "15",
            "Credits-week": "50"
        },
        {
            "Name": "Drisya Manohara Sandhanam Gopala Mohanan Achary Mattorkavu",
            "Credits": "15",
            "Credits-week": "50"
        },
        {
            "Name": "Drisya",
            "Credits": "15",
            "Credits-week": "50"
        },
        {
            "Name": "Drisya Manohara Sandhanam Gopala Mohanan Achary Mattorkavu",
            "Credits": "15",
            "Credits-week": "50"
        },
        {
            "Name": "Drisya",
            "Credits": "15",
            "Credits-week": "50"
        },
        {
            "Name": "Drisya",
            "Credits": "15",
            "Credits-week": "50"
        }
    ]


    /*readTextFile("data.json", function(text){
     var data = JSON.parse(text);
     console.log(data);
 });*/

	/*let json = require('data.json');
	console.log(json, 'the json obj');*/

    /* $.getJSON( "/data.json", function( data ) {
            console.log(data);
     });*/



    var col = [];
    for (var i = 0; i < gameResult.length; i++) {
        for (var key in gameResult[i]) {
            if (col.indexOf(key) === -1) {
                col.push(key);
            }
        }
    }

    var table = document.getElementById("GameResultTable");
    var tr;

    for (var i = 0; i < gameResult.length; i++) {

        tr = table.insertRow(-1);
        if (i % 2 == 0) {
            tr.className = "table-row-even";
        } else {
            tr.className = "table-row-odd";
        }
        for (var j = 0; j < col.length; j++) {
            var tabCell = tr.insertCell(-1);
            if (j == 0) {
                let id = JSON.stringify(gameResult[i][col[0]]);
                let name = JSON.stringify(gameResult[i][col[1]]);
                let url = JSON.stringify(gameResult[i][col[2]]);
                tabCell.innerHTML = "<a onclick='gameidClicked(" + id+","+name+","+url + ")'>" + gameResult[i][col[0]] + "</a>";
            }
            else if (j == 1) {
                let id = JSON.stringify(gameResult[i][col[0]]);
                let name = JSON.stringify(gameResult[i][col[1]]);
                let url = JSON.stringify(gameResult[i][col[3]]);
                tabCell.innerHTML = "<a onclick='gameNameClicked(" + id+","+name+","+url + ")'>" + gameResult[i][col[1]] + "</a>";
            }
            else if (j == 2) {
                tabCell.innerHTML = gameResult[i][col[4]];
            }
            else if (j == 3) {
                tabCell.innerHTML = gameResult[i][col[5]];
            }
            else if (j == 4) {
                tabCell.innerHTML = gameResult[i][col[6]];
            }
        }
    }

    //Leader board table

    var col = [];
    for (var i = 0; i < leaderboard.length; i++) {
        for (var key in leaderboard[i]) {
            if (col.indexOf(key) === -1) {
                col.push(key);
            }
        }
    }

    var table = document.getElementById("LeaderBoardTable");
    var tr;

    for (var i = 0; i < leaderboard.length; i++) {

        tr = table.insertRow(-1);
        if (i % 2 == 0) {
            tr.className = "credit-row-even";
        } else {
            tr.className = "credit-row-odd";
        }
        for (var j = 0; j < col.length; j++) {
            var tabCell = tr.insertCell(-1);
            tabCell.align = "center";
            tabCell.innerHTML = leaderboard[i][col[j]];
        }
    }


    function readTextFile(file, callback) {
        var rawFile = new XMLHttpRequest();
        rawFile.overrideMimeType("application/json");
        rawFile.open("GET", file, true);
        rawFile.onreadystatechange = function () {
            if (rawFile.readyState === 4 && rawFile.status == "200") {
                callback(rawFile.responseText);
            }
        }
        rawFile.send(null);
    }


}

